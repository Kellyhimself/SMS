# ============================================
# AZURE POSTGRESQL CONFIGURATION
# ============================================
# Copy this file to .env.local to use Azure PostgreSQL
# OR add these variables to your existing .env.local
# ============================================

# ============================================
# DATABASE PROVIDER SELECTION
# ============================================
# Set to 'azure' to use Azure PostgreSQL
# Set to 'supabase' to use Supabase (default)
DATABASE_PROVIDER=azure

# ============================================
# AZURE POSTGRESQL CONNECTION
# ============================================
# Get these values from Terraform outputs:
#   cd infrastructure/terraform/environments/dev
#   terraform output -json

# PostgreSQL server hostname (FQDN)
AZURE_POSTGRES_HOST=psql-sms-dev-sci1tp18.postgres.database.azure.com

# Database name
AZURE_POSTGRES_DATABASE=school_management

# Admin username
AZURE_POSTGRES_USER=smsadmin

# Admin password (KEEP SECRET!)
AZURE_POSTGRES_PASSWORD=MySchool@Azure2026

# Port (default: 5432)
AZURE_POSTGRES_PORT=5432

# Enable SSL (REQUIRED for Azure)
AZURE_POSTGRES_SSL=true

# SSL mode (require, verify-ca, verify-full)
AZURE_POSTGRES_SSL_MODE=require

# ============================================
# ALTERNATIVE: USE DATABASE_URL
# ============================================
# Instead of individual variables, you can use a single connection string:
# DATABASE_URL=postgresql://smsadmin:MySchool@Azure2026@psql-sms-dev-sci1tp18.postgres.database.azure.com:5432/school_management?sslmode=require

# ============================================
# SUPABASE CONFIGURATION (Optional - for fallback)
# ============================================
# Keep your Supabase credentials for easy switching between providers
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# APPLICATION SETTINGS
# ============================================
# Next.js
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# Authentication (if using Next-Auth)
# NEXTAUTH_SECRET=your-secret-key
# NEXTAUTH_URL=http://localhost:3000

# ============================================
# MONITORING & DEBUGGING
# ============================================
# Enable query logging
DEBUG=false

# Log slow queries (milliseconds)
SLOW_QUERY_THRESHOLD=1000

# ============================================
# AZURE COST MANAGEMENT
# ============================================
# Track costs via Azure CLI:
#   az consumption usage list --subscription "4430eb12-9548-4af6-b363-c8280245aa35"
#
# Estimated monthly cost: ~$15.57/month
# - Compute (B1ms): $12.00
# - Storage (32GB): $3.20
# - Backups (7 days): $0.37
